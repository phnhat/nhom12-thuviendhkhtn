<div class="container ml-5">

    <style>
        .img-wrapper {
            display: flex;
            align-content: center;
            justify-items: center;
            margin-bottom: 15px;
            padding: 10px;
        }
        .img-wrapper > img {
            display: block;
            width: 100%;
            height: 100%;
            margin: 0 auto;
            -webkit-box-shadow: 4px 6px 17px 0px rgba(0,0,0,0.6);
            -moz-box-shadow: 4px 6px 17px 0px rgba(0,0,0,0.6);
            box-shadow: 4px 6px 17px 0px rgba(0,0,0,0.6);
        }
        .img-wrapper-md {
            width: 220px;
            max-width: 285px;
        }

        .modal-content {
            width: 600px;
        }
    </style>

    <div class="row mt-4">
        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <h6>Bộ lọc</h6>
            <span>Nhà xuất bản</span>
            <div class="form-check">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" value="">Tuổi trẻ
                </label>
            </div>
            <div class="form-check">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" value="">Tổng hợp
                </label>
            </div>
            <div class="form-check disabled">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" value="">Giáo dục
                </label>
            </div>
            <br />
            <div class="form-group">
                <label for="sel1">Tác giả</label>
                <select class="form-control" id="sel1">
                    <option>Phạm Hồng Danh</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                </select>
            </div>
            <div class="form-group">
                <label for="sel2">Thể loại</label>
                <select class="form-control" id="sel2">
                    <option>Toán</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                </select>
            </div>

        </div>

        <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <div class="ml-5">
                <div class="row">
                    <form class="form-inline" action="" role="form">
                        <div class="form-group">
                            <select name="type" id="inputtype" class="form-control mr-2" required="required">
                                <option value="">Tên sách</option>
                                <option value="">Loại sách</option>
                                <option value="">Tác giả</option>
                                <option value="">Nhà xuất bản</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <input type="text" name="" class="form-control mr-sm-2" value="Toán cao cấp" style="width: 500px;"></div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-outline-primary"><a>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z" /></svg>
                                </a></button></div>
                    </form>
                </div>

                <div class="row mt-3 border-bottom result-quantity">

                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <span style="vertical-align: middle;"> Tìm thấy 3 kết quả phù hợp </span>
                    </div>


                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                        <nav aria-label="Page navigation example">
                            <ul class="pagination justify-content-end">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div>




                </div>




                <div class="row">
                    <div class="row mt-5">
                        <div class="book-card book-card-hover col-xs-4 col-sm-4 col-md-4 col-lg-4 container-book">
                            <div>
                                <img src="images/book1.jpg " class="book-resize" alt="">
                                <br /><a href="">Giáo trình Toán Cao cấp Giải Tích</a>
                                <br />
                                <div> Phạm Hồng Danh</div>
                                <div hidden>Toán</div>
                                <div hidden>Đại Học Quốc Gia TPHCM</div>
                            </div>
                            <div class="middle">
                                <button class="btn btn-primary" style="color: white;" data-toggle="modal" data-target="#modalEdit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                                        <path fill-rule="evenodd" d="M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" /></svg>
                                </button>
                                <button class="btn btn-danger" data-toggle="modal" data-target="#modalDelete"><a><svg
                                            xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
                                            <path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z" /></svg></a></button>
                            </div>
                        </div>


                        <div class="book-card book-card-hover col-xs-4 col-sm-4 col-md-4 col-lg-4 container-book">
                            <div>
                                <img src="images/book2.jpg" class="book-resize" alt="">
                                <br /><a href="">Toán Cao cấp</a>
                                <br />
                                <div>Nguyễn Văn Huân</div>
                                <div hidden>Toán</div>
                                <div hidden>Đại Học Quốc Gia TPHCM</div>
                            </div>
                            <div class="middle">
                                <button class="btn btn-primary" style="color: white;" data-toggle="modal" data-target="#modalEdit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                                        <path fill-rule="evenodd" d="M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" /></svg>
                                </button>
                                <button class="btn btn-danger" data-toggle="modal" data-target="#modalDelete"><a><svg
                                            xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
                                            <path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z" /></svg></a>
                                </button>
                            </div>
                        </div>
                        <div class="book-card book-card-hover col-xs-4 col-sm-4 col-md-4 col-lg-4 container-book">
                            <div>
                                <img src="images/book3.jpg" class="book-resize" alt="">
                                <br /><a href="">Bài Tập Toán Cao Cấp</a>
                                <br />
                                <div>Nguyễn Đình Tri</div>
                                <div hidden>Toán</div>
                                <div hidden>Đại Học Quốc Gia TPHCM</div>
                            </div>
                            <div class="middle">
                                <button class="btn btn-primary" style="color: white;" data-toggle="modal" data-target="#modalEdit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                                        <path fill-rule="evenodd" d="M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" /></svg>
                                </button>
                                <button class="btn btn-danger" data-toggle="modal" data-target="#modalDelete"><a><svg
                                            xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
                                            <path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z" /></svg></a>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Modal -->
    <!-- EDIT -->
    <div id="modalEdit" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-body">
                    <form>
                        <div class="row">
                            <div class="col-lg-5 col-bg-5 col-md-5 col-xs-12">
                                <div class="img-wrapper img-wrapper-md">
                                    <img src="" alt="book image" id="bookImage">
                                </div>
                                <input type="file" name="ProductImage" accept="image/*" class="btn btn-default" id="inputUploadImage"
                                    hidden>
                                <div style="text-align: center">
                                    <button class="btn btn-primary" id="uploadBookImage">Upload ảnh bìa</button>
                                </div>
                            </div>
                            <div class="col-lg-7 col-bg-7 col-md-7 col-xs-12">
                                <div class="form-group">
                                    <label for="bookName">Tên sách</label>
                                    <input type="text" class="form-control" id="bookName" name="bookName">
                                </div>
                                <div class="form-group">
                                    <label for="bookAuthor">Tác giả</label>
                                    <input type="text" class="form-control" id="bookAuthor" name="bookAuthor">
                                </div>
                                <div class="form-group">
                                    <label for="bookCategory">Thể loại</label>
                                    <input type="text" class="form-control" id="bookCategory" name="bookCategory">
                                </div>
                                <div class="form-group">
                                    <label for="bookPublisher">Nhà xuất bản</label>
                                    <input type="text" class="form-control" id="bookPublisher" name="bookPublisher">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal" id="updateBook">Lưu</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Huỷ</button>
                </div>
            </div>
        </div>
    </div>
    <!-- DELETE -->
    <div id="modalDelete" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header" style="background: #d32f2f; color: white">
                    XOÁ THÔNG TIN SÁCH
                </div>
                <div class="modal-body">
                    <p>Chắc chắn xoá sách này?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="background: #d32f2f; color: white"
                        id="deleteBook">Xác nhận</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Huỷ bỏ</button>
                </div>
            </div>
        </div>
    </div>


</div>
<script>
    let bookCardIndex = -1;
    const btns = $(".middle .btn-primary");
    for (let i = 0; i < btns.length; i++) {
        const btn = btns[i];
        $(btn).click(() => {
            const bookCard = $(btn).closest("div.book-card")[0];
            if (!bookCard) return;
            const bookCardContainer = $(bookCard).parent()[0];
            // count order of the selected one
            bookCardIndex = i;
            // extract info from bookCard and parse into modal
            $("#bookImage").attr("src", $($(bookCard).find("div:first-of-type img")[0]).attr("src"));
            $("#bookName").val($(bookCard).find("div:first-of-type a")[0].textContent);
            $("#bookAuthor").val($(bookCard).find("div:first-of-type div")[0].textContent)
            $("#bookCategory").val($(bookCard).find("div:first-of-type div:nth-of-type(2)")[0].textContent);
            $("#bookPublisher").val($(bookCard).find("div:first-of-type div:last-of-type")[0].textContent);
        })
    }

    $("#updateBook").click(() => {
        if (bookCardIndex > -1 && bookCardIndex < $(".book-card").length) {
            const bookCard = $(".book-card")[bookCardIndex];
            $(bookCard).find("a")[0].textContent = $("#bookName").val();
            $(bookCard).find("div:first-of-type div")[0].textContent = $("#bookAuthor").val();
            $(bookCard).find("div:first-of-type div:nth-of-type(2)")[0].textContent = $("#bookCategory").val();
            $(bookCard).find("div:first-of-type div:last-of-type")[0].textContent = $("#bookPublisher").val();
        }
    })

    $("#uploadBookImage").click(e => {
        e.preventDefault();
        $("#inputUploadImage").click();
    })

    function readURL(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                $('#bookImage').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#inputUploadImage").change(function () {
        readURL(this);
    }) 
</script>
</body>

</html>